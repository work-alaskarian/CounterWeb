<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1'>

	<title>نظام عداد الأشخاص</title>

	<link rel='icon' type='image/png' href='/favicon.png'>
	<link rel='preconnect' href='https://fonts.googleapis.com'>
	<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
	<link href='https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet'>
	<link rel='stylesheet' href='/global.css'>
	<link rel='stylesheet' href='/build/bundle.css'>
	
	<!-- Leaflet CSS -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
	
	<!-- Leaflet JS must load first -->
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
	<!-- Then the heat plugin -->
	<script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
	
	</head>

<body>
	<div id="error-log" style="color: red; padding: 10px;"></div>

	<script>
		console.log('🔍 HTML: Before loading bundle.js');

		window.addEventListener('error', (e) => {
			console.error('❌ Runtime error:', e.error, e.message, e.filename, e.lineno);
			document.getElementById('error-log').innerHTML +=
				'<div>❌ Error: ' + e.message + ' (Line: ' + e.lineno + ')</div>';
		});

		// Show when bundle starts loading
		console.log('🔍 HTML: Loading bundle.js...');
	</script>

	<script src='/build/bundle.js'></script>

	<script>
		console.log('🔍 HTML: After bundle.js loaded');

		// Check if body has content after 1 second
		setTimeout(() => {
			const bodyContent = document.body.innerHTML;
			if (bodyContent.includes('Very Simple Test') || bodyContent.includes('42')) {
				console.log('✅ App loaded successfully!');
			} else {
				console.log('❌ App did not load. Body content:', bodyContent.substring(0, 200));
				document.getElementById('error-log').innerHTML +=
					'<div>❌ App did not mount. Bundle loaded but app not visible.</div>';
			}
		}, 1000);
	</script>
</body>
</html>
